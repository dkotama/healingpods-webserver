{% extends "base.html" %}
{% block content %}
  <div class="main-content">
      <div class="col-md">
          <section class="section">
              <div class="section-header">
                  <h1>Patient Name</h1>
              </div>
              <div class="section-body">
                    <h2 class="section-title">Patient Therapy Result </h2>
                    <div class="row">
                        <div class="col-md-4">
                           <div class="card">
                                <div class="card-header">
                                    <h4>Patient Info</h4>
                                </div>
                                <div class="card-body">
                                    <img class="img-fluid img-rounded" src="{{ url_for ('static', filename='media/img/patients/1-1.png') }}" alt="">
                                    <div class="form-group mt-2">
                                        <label>Nama</label>
                                        <div class="name">
                                            Juna Siddiartha
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Tempat/Tanggal Lahir</label>
                                        <div class="name">
                                            Denpasar, 02 September 1992 
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Klasifikasi Disabilitas</label>
                                        <div class="name">
                                            Cacat Kaki 
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4>Sound Record</h4>
                                        </div>
                                        <div class="card-body">
                                            <div id="waveform"></div>
                                            <button class="btn btn-primary mt-4" onclick="wavesurfer.playPause()">
                                                <i class="glyphicon glyphicon-play"></i>
                                                Play/Pause
                                            </button>
                                        </div>
                                        <div class="card-footer">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4>Pre-test Result</h4>
                                        </div>
                                        <div class="card-body">
                                            <div class="table-responsive">
                                                <table class="table table-striped table-bordered table-sm ">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">#</th>
                                                        <th scope="col">Q1</th>
                                                        <th scope="col">Q2</th>
                                                        <th scope="col">Q4</th>
                                                        <th scope="col">Q5</th>
                                                        <th scope="col">Q6</th>
                                                        <th scope="col">Q7</th>
                                                        <th scope="col">Q8</th>
                                                        <th scope="col">Q9</th>
                                                        <th scope="col">Q10</th>
                                                        <th scope="col">Q11</th>
                                                        <th scope="col">Q12</th>
                                                        <th scope="col">Q13</th>
                                                        <th scope="col">Q14</th>
                                                        <th scope="col">Q15</th>
                                                        <th scope="col">Q16</th>
                                                        <th scope="col">Q17</th>
                                                        <th scope="col">Q18</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <th scope="row">Answer</th>
                                                        <td>4</td>
                                                        <td>5</td>
                                                        <td>6</td>
                                                    </tr>
                                                    </tbody>

                                                </table>
                                            </div>
                                        </div>
                                        <div class="card-footer">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4>Post-Test Result</h4>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="post-test-result"></canvas>
                                        </div>
                                        <div class="card-footer">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
              </div>
          </section>
      </div>
  </div>
{% endblock content %}

{% block plugins_js %}
{% endblock %}

{% block page_js %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js" integrity="sha512-ElRFoEQdI5Ht6kZvyzXhYG9NqjtkmlkfYk0wr6wHxU9JEHakS7UJZNeml5ALk+8IKlU6jDgMabC3vkumRokgJA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js" integrity="sha512-6+YN/9o9BWrk6wSfGxQGpt3EUK6XeHi6yeHV+TYD2GR0Sj/cggRpXr1BrAQf0as6XslxomMUxXp2vIl+fv0QRA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.4.0/wavesurfer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.4.0/plugin/wavesurfer.minimap.min.js"></script>


    <script>
        var wavesurfer = WaveSurfer.create({
        container: '#waveform',
        waveColor: '#D2EDD4',
        progressColor: '#46B54D',
        barHeight: 1.4 
    });
        wavesurfer.load("{{ url_for ('static', filename='media/m4a/patients/1-1.m4a') }}");
    </script>

    <script>
        var data = {
        labels: ['q1', 'q2', 'q3', 'q4', 'q5', 'q6', 'q7', 'q8', 'q9', 'q10', 'q11', 'q12', 'q13', 'q14', 'q15', 'q16', 'q17', 'q18', 'q19', 'q20', 'q21', 'q22', 'q23', 'q24', 'q25', 'q26', 'q27', 'q28', 'q29', 'q30', 'q31', 'q32', 'q33', 'q34', 'q35', 'q36', 'q37', 'q38', 'q39', 'q40', 'q41', 'q42', 'q43', 'q44', 'q45', 'q46', 'q47', 'q48', 'q49', 'q50'],
        datasets: [
                {
                    label: ["Post Tests"],
                    data: [5, 2, 1, 3, 5, 2, 1, 2, 2, 1, 1, 3, 1, 3, 1, 1, 1, 1, 5, 5, 3, 4, 5, 3, 4, 1, 1, 4, 4, 2, 1, 1, 3, 5, 1, 2, 1, 4, 1, 4, 5, 2, 1, 1, 2, 2, 1, 2, 3, 4],
                }
            ]
        };

        var postTest = document.getElementById('post-test-result').getContext('2d');
        var postTestChar = new Chart(postTest,{
            type: 'bar',
            data: data,
            // options: {
            //      scales: {
            //         x: {
            //             type: 'linear',
            //             min: 1,
            //             max: MAX_BARS 
            //         }
            //     }
            // },
            animation:{ 
            animateScale:true
            }
        });
    </script>
{% endblock %}